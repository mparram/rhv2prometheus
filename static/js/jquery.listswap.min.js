!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="listSwap",g={truncate:!1,height:null,labelAdd:"",labelRemove:"",customClass:"",srcTitle:null,destTitle:null},h=f.toLowerCase(),i={ready:h+"-ready",wrap:h+"-wrap",listWrap:h+"-list-wrap",hidden:h+"-hidden",list:h+"-list",selected:h+"-selected",controls:h+"-controls",add:h+"-add",remove:h+"-remove",option:h+"-option",search:h+"-search",searchBox:h+"-searchbox",truncate:"",title:h+"-title"},j={ready:"ready."+f,click:"click."+f,select:"select."+f},k=1;e.prototype={init:function(){var a=this.element[0],b=this.element[1],c=h+"_"+k;a&&b||console.error("Please provide both a source and a destination"),this.setLayout(this.element,a,b,this.options),this.bindUIActions(this.element,a,b,c),k++},setLayout:function(b,c,d,e){b.wrapAll('<div id="'+h+"_"+k+'" class="'+i.wrap+" "+e.customClass+'">'),b.addClass(i.hidden),a("#"+h+"_"+k).append('<div class="'+i.listWrap+'">   <ul id="src_list_'+k+'" class="'+i.list+'" data-instance="'+k+'"></ul></div><ul id="'+h+"_"+k+'_controls" class="'+i.controls+'" data-instance="'+k+'">   <li class="'+i.add+'">       <span class="arrow"></span>       <span class="label">'+e.labelAdd+'</span>   </li>   <li class="'+i.remove+'">       <span class="arrow"></span>       <span class="label">'+e.labelRemove+'</span>   </li></ul><div class="'+i.listWrap+'">   <ul id="dest_list_'+k+'" class="'+i.list+'" data-instance="'+k+'"></ul></div>');var f="#src_list_"+k,g="#dest_list_"+k;this.createList(c,a(f)),this.createList(d,a(g)),this.setSearch(c,a(f)),this.setSearch(d,a(g)),this.searchFilter(f),this.searchFilter(g),e.srcTitle&&e.destTitle&&(this.addTitle(a(f),e.srcTitle),this.addTitle(a(g),e.destTitle)),(e.srcTitle&&!e.destTitle||!e.srcTitle&&e.destTitle)&&console.error("Please add both srcTitle and destTitle")},bindUIActions:function(b,c,d,e){var f=this,g=a("#"+e),h="."+i.option,k=g.find("."+i.controls+" li");g.on(j.click,h,function(){a(this).toggleClass(i.selected)}),k.on(j.click,function(){f.moveOption(b,c,d,e,this)})},createList:function(b,c){var d=this;a(b).find("option").each(function(){var b=a(this).attr("value"),e=a(this).text();d.options.truncate&&(i.truncate=" "+h+"-truncate"),c.append('<li class="'+i.option+i.truncate+'" data-value="'+b+'">'+e+"</li>")}),d.options.height&&c.css("height",d.options.height)},moveOption:function(b,c,d,e,f){var g=a(f).closest("ul").attr("data-instance"),h="#src_list_",j="#dest_list_",k=d;a(f).hasClass(i.remove)&&(j=[h,h=j][0],k=c),a(h+g+" ."+i.selected).each(function(){a(this).remove(),a(j+g).append(a(this).removeClass(i.selected));var b=a('option[value="'+a(this).attr("data-value")+'"]');b.remove(),a(k).append(b)})},setSearch:function(b,c){if(a(b).attr("data-search")){var d='<div class="'+i.search+'"><input type="text" placeholder="'+a(b).attr("data-search")+'" class="'+i.searchBox+'" /><span class="clear"></span></div>';c.parent().prepend(d)}},searchFilter:function(b){var c=this;a(b).prev("."+i.search).find("."+i.searchBox).keyup(function(){c.removeSelection(b);var d=a(this).val().toString().toLowerCase();a(b+" > li").each(function(){var b=a(this).text().toString().toLowerCase();b.indexOf(d)!==-1?a(this).show():a(this).hide()})}),c.clearButton(b)},removeSelection:function(b){a(b+" li."+i.option).each(function(){a(this).hasClass(i.selected)&&a(this).removeClass(i.selected)})},clearButton:function(b){a(b).prev(" ."+i.search).find(" .clear").click(function(){a(b).prev(" ."+i.search).find("."+i.searchBox).val(""),a(b).prev(" ."+i.search).find("."+i.searchBox).focus(),a(b+" > li").each(function(){a(this).show()})})},addTitle:function(b,c){a(b).parent().prepend('<h3 class="'+i.title+'">'+c+"</h3>")}},a.fn[f]=function(b){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}})(jQuery,window,document);
//# sourceMappingURL=jquery.listswap.min.js.map